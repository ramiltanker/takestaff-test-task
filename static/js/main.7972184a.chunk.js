(this["webpackJsonptakestaff-test-task"]=this["webpackJsonptakestaff-test-task"]||[]).push([[0],{11:function(e,n,t){e.exports={card:"Card_card__2wEBH",form:"Card_form__1uz7z",input:"Card_input__3msgj",button:"Card_button__AKbL-",button_delete:"Card_button_delete__2rWE9 Card_button__AKbL-",button_edit:"Card_button_edit__3Vief Card_button__AKbL-",button_save:"Card_button_save__3irzd Card_button__AKbL-"}},32:function(e,n,t){e.exports={sign_in:"SignIn_sign_in__3WeGQ",form:"SignIn_form__2AdoC"}},33:function(e,n,t){e.exports={input_box:"InputString_input_box__rHA7o",label:"InputString_label__3UitT"}},34:function(e,n,t){e.exports={container:"AddNewContactForm_container__1IAUz",form:"AddNewContactForm_form__F_pl6"}},35:function(e,n,t){e.exports={contacts:"Contacts_contacts__32o06",container:"Contacts_container__35d9D"}},36:function(e,n,t){e.exports={nav_menu:"NavMenu_nav_menu__2CviM",link:"NavMenu_link__39Egp"}},55:function(e,n,t){e.exports={form:"SearchForm_form__1CaJ3"}},56:function(e,n,t){e.exports={header:"Header_header__1pkD5"}},91:function(e,n,t){},93:function(e,n,t){},94:function(e,n,t){},99:function(e,n,t){"use strict";t.r(n);var a=t(16),i=t.n(a),r=t(24),s=t(102);function u(e){return new Promise((function(n){return setTimeout(n,e)}))}var o=t(50),c=t.n(o),l=t(31),d=t.n(l).a.create();d.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e.response&&e.response.data||"Something went wrong")}));var p=d,h=new c.a(p,{delayResponse:0}),b=[{id:Object(s.a)(),email:"test@mail.ru",password:"12345"}];h.onPost("/api/auth/login").reply(function(){var e=Object(r.a)(i.a.mark((function e(n){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(1e3);case 3:if(t=JSON.parse(n.data),a=t.email,r=t.password,s=b.find((function(e){return e.email===a}))){e.next=7;break}return e.abrupt("return",[400,{message:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0434\u0430\u043d\u043d\u044b\u043c email \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"}]);case 7:if(s.password===r){e.next=9;break}return e.abrupt("return",[400,{message:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}]);case 9:return e.abrupt("return",[200,{user:s}]);case 12:return e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[500,{message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435"}]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}());var m=t(0),f=t.n(m),j=t(15),g=t(13),v=t.n(g),x=t(21),O=t(17),_=t(4),C="USER_SIGNIN_REQUEST",I="USER_SIGNIN_SUCCESS",S="USER_SIGNIN_FAILED",N={isLogged:!1,isLoading:!1,user:void 0,signInRequest:!1,signInSuccess:!1,signInFailed:!1},w=Object(O.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case C:return Object(_.a)(Object(_.a)({},e),{},{isLogged:!1,isLoading:!0,signInRequest:!0,signInSuccess:!1,signInFailed:!1});case I:return Object(_.a)(Object(_.a)({},e),{},{isLogged:!0,isLoading:!1,user:n.user,signInRequest:!1,signInSuccess:!0,signInFailed:!1});case S:return Object(_.a)(Object(_.a)({},e),{},{isLogged:!1,isLoading:!1,signInRequest:!1,signInSuccess:!1,signInFailed:!0});default:return e}}}),y=t(51),T=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.c)(Object(O.a)(y.a)),L=Object(O.d)(w,T),E=(t(91),t(2)),k=t(32),R=t.n(k),F=x.c,A=t(19),D=t(10);function V(){var e=f.a.useState({}),n=Object(D.a)(e,2),t=n[0],a=n[1],i=f.a.useState({}),r=Object(D.a)(i,2),s=r[0],u=r[1],o=f.a.useState(!1),c=Object(D.a)(o,2),l=c[0],d=c[1],p=f.a.useState(!1),h=Object(D.a)(p,2),b=h[0],j=h[1],g=f.a.useState(!1),v=Object(D.a)(g,2),x=v[0],O=v[1],C=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,I=Object(m.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];a(e),u(n),d(t),j(i),O(r)}),[a,u,d,j,O]);return{values:t,handleChange:function(e){var n=e.target,i=n.name,r=n.value;a(Object(_.a)(Object(_.a)({},t),{},Object(A.a)({},i,r))),u(Object(_.a)(Object(_.a)({},s),{},Object(A.a)({},i,n.validationMessage))),d(n.checkValidity()),j(!r),"mail"===i&&C.test(String(r).toLowerCase())?O(!0):O(!1)},errors:s,isValid:l,resetForm:I,isDirty:b,isEmail:x}}var U,W,M=t(26),P=t(27),B=t(33),z=t.n(B),q=t(1),G=P.a.input(U||(U=Object(M.a)(["\n  width: ",";\n  height: 60px;\n  background: #ffffff;\n  border: 1px solid #f1f1f1;\n  border-radius: 4px;\n\n  font-family: Montserrat;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 24px;\n  padding-left: 16px;\n  padding-top: 5px;\n  margin-right: ",";\n  &:focus,\n  &:hover {\n    border-color: #01a7fd;\n    border-width: 2px;\n    outline-color: #01a7fd;\n  }\n"])),(function(e){return e.width}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.marginRight})),J=function(e){var n=e.inputName,t=e.inputType,a=e.inputId,i=e.labelText,r=e.inputWidth,s=e.marginRight,u=e.inputValue,o=e.onChange;return Object(q.jsxs)("div",{className:z.a.input_box,children:[Object(q.jsx)("label",{className:z.a.label,children:i}),Object(q.jsx)(G,{style:{marginRight:s},width:r,type:t,name:n,value:u,onChange:o,id:a})]})},K=P.a.button(W||(W=Object(M.a)(["\n  width: ",";\n  height: ",";\n  background: #01a7fd;\n  border-radius: 100px;\n  border-style: none;\n  cursor: pointer;\n  opacity: 1;\n  transition: opacity 0.3s linear;\n  font-family: Montserrat;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 24px;\n  color: #ffffff;\n  align-self: ",";\n  margin-right: ",";\n  margin-left: ",";\n  margin-top: ",";\n  margin-bottom: ",";\n  &:hover {\n    opacity: 0.6;\n    transition: opacity 0.3s linear;\n  }\n  &:disabled,\n  &hover {\n    background-color: #cccccc;\n    cursor: not-allowed;\n    transition: none;\n    opacity: 1;\n  }\n"])),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.width}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.height}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.alignSelf}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.marginRight}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.marginLeft}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.marginTop}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.marginBottom})),H=function(e){var n=e.text,t=e.width,a=e.height,i=e.marginRight,r=e.marginLeft,s=e.marginTop,u=e.marginBottom,o=e.alignSelf,c=e.isButtonDisabled;return Object(q.jsx)(K,{style:{marginRight:i,marginLeft:r,marginTop:s,marginBottom:u,width:t,height:a,alignSelf:o},disabled:c,children:n})},Q=t(101),X=(t(93),t(94),function(e){var n=e.isLoaderActive,t=f.a.createRef();return Object(q.jsx)("div",{className:"container",children:Object(q.jsx)(Q.a,{in:n,timeout:3e3,mountOnEnter:!0,unmountOnExit:!0,classNames:"loader",nodeRef:t,appear:!0,children:Object(q.jsx)("div",{className:"loader",ref:t})})})}),$=function(){var e=Object(x.b)(),n=V(),t=V(),a=F((function(e){return e.auth})),s=(a.isLogged,a.isLoading);return Object(q.jsxs)(q.Fragment,{children:[s&&Object(q.jsx)(X,{isLoaderActive:s}),Object(q.jsx)("section",{className:R.a.sign_in,children:Object(q.jsxs)("form",{className:R.a.form,onSubmit:function(a){a.preventDefault(),n.values.email&&t.values.password&&e(function(e,n){return function(){var t=Object(r.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:C}),t.prev=1,t.next=4,p.post("/api/auth/login",{email:e,password:n});case 4:200===(r=t.sent).status&&a({type:I,user:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:S});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(n.values.email,t.values.password))},children:[Object(q.jsx)(J,{inputName:"email",inputType:"text",inputId:"email",labelText:"Email",inputWidth:"500px",inputValue:n.values.email||"",onChange:n.handleChange}),Object(q.jsx)(J,{inputName:"password",inputType:"text",inputId:"password",labelText:"Password",inputWidth:"500px",inputValue:t.values.password||"",onChange:t.handleChange}),Object(q.jsx)(H,{text:"\u0412\u043e\u0439\u0442\u0438",width:"200px",height:"50px",marginTop:"30px",alignSelf:"flex-end"})]})})]})},Y=t(38),Z=t(34),ee=t.n(Z),ne=function(e){var n=e.handleAddNewContact,t=V(),a=V(),i=V(),r=V();return Object(q.jsx)("section",{className:ee.a.container,children:Object(q.jsxs)("form",{className:ee.a.form,onSubmit:function(e){if(e.preventDefault(),t.values.name&&a.values.email&&i.values.address&&r.values.phone){var u={id:Object(s.a)(),name:t.values.name,email:a.values.email,address:i.values.address,phone:r.values.phone};n(u),t.values.name="",a.values.email="",i.values.address="",r.values.phone=""}},children:[Object(q.jsx)(J,{inputName:"name",inputType:"text",inputId:"name",labelText:"\u0418\u043c\u044f",inputWidth:"600px",inputValue:t.values.name||"",onChange:t.handleChange}),Object(q.jsx)(J,{inputName:"email",inputType:"email",inputId:"email",labelText:"Email",inputWidth:"600px",inputValue:a.values.email||"",onChange:a.handleChange}),Object(q.jsx)(J,{inputName:"address",inputType:"text",inputId:"address",labelText:"Address",inputWidth:"600px",inputValue:i.values.address||"",onChange:i.handleChange}),Object(q.jsx)(J,{inputName:"phone",inputType:"text",inputId:"phone",labelText:"Phone",inputWidth:"600px",inputValue:r.values.phone||"",onChange:r.handleChange}),Object(q.jsx)(H,{text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",width:"200px",height:"50px",marginTop:"30px",alignSelf:"flex-end"})]})})},te=t(11),ae=t.n(te),ie=function(e){var n=e.id,t=e.name,a=e.phone,i=e.address,r=e.email,s=e.handleDeleteContact,u=e.handleSaveNewContact,o=f.a.useState(!0),c=Object(D.a)(o,2),l=c[0],d=c[1],p=V(),h=V(),b=V(),m=V();f.a.useEffect((function(){t&&r&&i&&a&&(p.values.nameInput=t,h.values.emailInput=r,b.values.addressInput=i,m.values.phoneInput=a)}),[t,r,i,a]);return Object(q.jsxs)("section",{className:ae.a.card,children:[Object(q.jsxs)("form",{className:ae.a.form,onSubmit:function(e){if(e.preventDefault(),p.values.nameInput!==t||h.values.emailInput!==r||b.values.addressInput!==i||m.values.phoneInput!==a){var s={id:n,name:p.values.nameInput,email:h.values.emailInput,address:b.values.addressInput,phone:m.values.phoneInput};u(s),d(!0)}},children:[Object(q.jsx)("input",{className:ae.a.input,name:"nameInput",value:p.values.nameInput||t||"",onChange:p.handleChange,type:"text",disabled:l}),Object(q.jsx)("input",{className:ae.a.input,name:"emailInput",value:h.values.emailInput||r||"",onChange:h.handleChange,type:"email",disabled:l}),Object(q.jsx)("input",{className:ae.a.input,name:"addressInput",value:b.values.addressInput||i||"",onChange:b.handleChange,type:"text",disabled:l}),Object(q.jsx)("input",{className:ae.a.input,name:"phoneInput",value:m.values.phoneInput||a||"",onChange:m.handleChange,type:"text",disabled:l}),Object(q.jsx)("button",{className:ae.a.button_save})]}),Object(q.jsx)("button",{className:ae.a.button_delete,onClick:function(){return s(n)}}),Object(q.jsx)("button",{className:ae.a.button_edit,onClick:function(){d(!1)}})]})},re=t(55),se=t.n(re),ue=function(e){var n=e.handleSearchContact,t=V();return Object(q.jsxs)("form",{className:se.a.form,onSubmit:function(e){e.preventDefault(),n(t.values.searchInput)},children:[Object(q.jsx)(J,{inputName:"searchInput",inputType:"text",inputId:"searchInput",labelText:"Search",inputWidth:"800px",inputValue:t.values.searchInput||"",onChange:t.handleChange}),Object(q.jsx)(H,{text:"\u041d\u0430\u0439\u0442\u0438",width:"100px",height:"50px",marginLeft:"30px",alignSelf:"center"})]})},oe=t(35),ce=t.n(oe),le=function(){var e=f.a.useState([]),n=Object(D.a)(e,2),t=n[0],a=n[1],i=f.a.useState([]),r=Object(D.a)(i,2),s=r[0],u=r[1];return f.a.useEffect((function(){u(Object(Y.a)(t))}),[t]),Object(q.jsxs)("section",{className:ce.a.contacts,children:[Object(q.jsx)(ne,{handleAddNewContact:function(e){var n=[];n.push(e),a([].concat(Object(Y.a)(t),n))}}),t.length>0&&Object(q.jsx)(ue,{handleSearchContact:function(e){return function(e){var n=t.filter((function(n){return Object.values(n).some((function(n){return n.toUpperCase().includes(e.toUpperCase())}))}));u(n)}(e)}}),Object(q.jsx)("div",{className:ce.a.container,children:s.map((function(e){return Object(q.jsx)(ie,{id:e.id,name:e.name,phone:e.phone,address:e.address,email:e.email,handleDeleteContact:function(e){return function(e){a(t.filter((function(n){return n.id!==e})))}(e)},handleSaveNewContact:function(n){return function(e,n){var i;i=t.map((function(t){return t.id===e?n:t})),a(i)}(e.id,n)}},e.id)}))})]})},de=t(56),pe=t.n(de),he=t(36),be=t.n(he),me=function(){return Object(q.jsx)("nav",{className:be.a.nav_menu,children:Object(q.jsx)(j.b,{to:"/contacts",className:be.a.link,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})})},fe=function(){return Object(q.jsx)("header",{className:pe.a.header,children:Object(q.jsx)(me,{})})},je=t(28),ge=["children"],ve=function(e){var n=e.children,t=Object(je.a)(e,ge),a=F((function(e){return e.auth})).user,i=a&&""!==a.email&&""!==a.name;return Object(q.jsx)(E.b,Object(_.a)(Object(_.a)({},t),{},{render:function(){return i?Object(q.jsx)(E.a,{to:"/contacts"}):n}}))},xe=["children"],Oe=function(e){var n=e.children,t=Object(je.a)(e,xe),a=F((function(e){return e.auth}));return a.isLogged?Object(q.jsx)(E.b,Object(_.a)(Object(_.a)({},t),{},{children:n})):Object(q.jsx)(E.b,Object(_.a)(Object(_.a)({},t),{},{render:function(e){var n=e.location;return Object(q.jsx)(E.a,{to:{pathname:"/sign-in",state:{from:n}}})}}))};var _e=function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(fe,{}),Object(q.jsxs)(E.d,{children:[Object(q.jsx)(ve,{path:"/sign-in",children:Object(q.jsx)($,{})}),Object(q.jsx)(Oe,{path:"/contacts",exact:!0,children:Object(q.jsx)(le,{})})]})]})},Ce=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,103)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,r=n.getLCP,s=n.getTTFB;t(e),a(e),i(e),r(e),s(e)}))};v.a.render(Object(q.jsx)(f.a.StrictMode,{children:Object(q.jsx)(j.a,{children:Object(q.jsx)(x.a,{store:L,children:Object(q.jsx)(_e,{})})})}),document.getElementById("root")),Ce()}},[[99,1,2]]]);
//# sourceMappingURL=main.7972184a.chunk.js.map